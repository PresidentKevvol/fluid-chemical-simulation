<html>
    <head>
        <title>Fluid chemical dynamic simulation</title>
        <!-- include numjs -->
        <script src="https://cdn.jsdelivr.net/gh/nicolaspanel/numjs@0.15.1/dist/numjs.min.js"></script>
        <script src="index.js"></script>
        <style>
            body {margin: 0;}
        </style>
    </head>
    <body>
        <canvas id="main-vas" width="30" height="30" style="height: 100vh; image-rendering: pixelated; border-right: 1px solid black;"></canvas>
    </body>
    
<!-- test codes -->
<!-- coment out when not needed -->
<script>
/*
sim_grid_width = 4;
sim_grid_height = 4;

p = [[2, 4, 5, 3], [1, 8, 5, 2], [6, 7, 0, 8], [1, 4, 4, 1]];
p0 = [[2, 4, 5, 3], [1, 8, 5, 2], [6, 7, 0, 8], [1, 4, 4, 1]];
*/

//sim_grid_width = 20;
//sim_grid_height = 20;

p = generate_random_field(0, 10);

den[4][25] = 25;

den[3][25] = 12.5;
den[5][25] = 12.5;
den[4][24] = 12.5;
den[4][26] = 12.5;


velx[4][25] = 5;
velx[5][24] = 3;
velx[6][23] = 3;
velx[7][22] = 3;
velx[8][21] = 3;
velx[9][20] = 3;

velx[3][25] = 3.5;
velx[5][25] = 3.5;
velx[4][24] = 3.5;
velx[4][26] = 3.5;

    
vely[4][25] = -5;
vely[5][24] = -3;
vely[6][23] = -3;
vely[7][22] = -3;
vely[8][21] = -3;
vely[9][20] = -3;

vely[3][25] = -3.5;
vely[5][25] = -3.5;
vely[4][24] = -3.5;
vely[4][26] = -3.5;


</script>
</html>